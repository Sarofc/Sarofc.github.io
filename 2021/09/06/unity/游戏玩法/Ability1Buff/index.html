<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="æ˜Ÿæ˜Ÿ"><meta name="copyright" content="æ˜Ÿæ˜Ÿ"><meta name="generator" content="Hexo 6.2.0"><meta name="theme" content="hexo-theme-yun"><title>æŠ€èƒ½ç³»ç»Ÿ(ä¸€) Buff | æ˜Ÿæ˜Ÿ's Blog</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.3.3/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://fastly.jsdelivr.net/npm/@unocss/runtime/mini.global.js"></script><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://fastly.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://fastly.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://fastly.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><script src="https://fastly.jsdelivr.net/npm/pjax@latest/pjax.min.js" defer></script><script src="/js/pjax.js" defer type="module"></script><script src="https://fastly.jsdelivr.net/npm/vue@2.6.14"></script><link rel="icon" type="image/png" href="/img/myfavicon.ico"><link rel="mask-icon" href="/img/myfavicon.ico" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"sarofc.gitee.io","root":"/","title":"æ¸©æš–çš„æ™¨å…‰ï¼Œæ•£å»äº†å¿§ä¼¤","version":"1.9.3","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","fireworks":{"colors":null},"vendors":{"darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><meta name="description" content="buffæ¨¡å—ã€‚æŠ€èƒ½ç³»ç»Ÿçš„ä¸­ä»‹è€…ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="æŠ€èƒ½ç³»ç»Ÿ(ä¸€) Buff">
<meta property="og:url" content="https://sarofc.gitee.io/2021/09/06/unity/%E6%B8%B8%E6%88%8F%E7%8E%A9%E6%B3%95/Ability1Buff/index.html">
<meta property="og:site_name" content="æ˜Ÿæ˜Ÿ&#39;s Blog">
<meta property="og:description" content="buffæ¨¡å—ã€‚æŠ€èƒ½ç³»ç»Ÿçš„ä¸­ä»‹è€…ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://sarofc.gitee.io/2021/09/06/unity/%E6%B8%B8%E6%88%8F%E7%8E%A9%E6%B3%95/Ability1Buff/buff.gif">
<meta property="og:image" content="https://sarofc.gitee.io/2021/09/06/unity/%E6%B8%B8%E6%88%8F%E7%8E%A9%E6%B3%95/Ability1Buff/pic0.jpg">
<meta property="og:image" content="https://sarofc.gitee.io/2021/09/06/unity/%E6%B8%B8%E6%88%8F%E7%8E%A9%E6%B3%95/Ability1Buff/pic1.jpg">
<meta property="article:published_time" content="2021-09-06T04:22:43.000Z">
<meta property="article:modified_time" content="2021-09-06T04:22:43.000Z">
<meta property="article:author" content="æ˜Ÿæ˜Ÿ">
<meta property="article:tag" content="gameplay">
<meta property="article:tag" content="ability">
<meta property="article:tag" content="buff">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://sarofc.gitee.io/2021/09/06/unity/%E6%B8%B8%E6%88%8F%E7%8E%A9%E6%B3%95/Ability1Buff/buff.gif"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="æ˜Ÿæ˜Ÿ"><img width="96" loading="lazy" src="/img/myfavicon.ico" alt="æ˜Ÿæ˜Ÿ"><span class="site-author-status" title="A Gamer">ğŸ˜Š</span></a><div class="site-author-name"><a href="/about/">æ˜Ÿæ˜Ÿ</a></div><span class="site-name">æ˜Ÿæ˜Ÿ's Blog</span><sub class="site-subtitle"></sub><div class="site-description">A Gamer</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">30</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">5</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">21</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="ç•™è¨€æ¿"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Sarofc" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/29047160" title="å“”å“©å“”å“©" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.</span> <span class="toc-text">å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Event"><span class="toc-number">1.1.</span> <span class="toc-text">1.Event</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Action"><span class="toc-number">1.2.</span> <span class="toc-text">2.Action</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Target"><span class="toc-number">1.3.</span> <span class="toc-text">3.Target</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Buff%E8%87%AA%E8%BA%AB%E9%80%BB%E8%BE%91"><span class="toc-number">2.</span> <span class="toc-text">Buffè‡ªèº«é€»è¾‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%B1%9E%E6%80%A7%E6%94%B9%E5%8F%98"><span class="toc-number">2.1.</span> <span class="toc-text">1.å±æ€§æ”¹å˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%8A%B6%E6%80%81%E6%94%B9%E5%8F%98"><span class="toc-number">2.2.</span> <span class="toc-text">2.çŠ¶æ€æ”¹å˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%A0%86%E5%8F%A0%E5%92%8C%E6%BA%A2%E5%87%BA"><span class="toc-number">2.3.</span> <span class="toc-text">3.å †å å’Œæº¢å‡º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-buff%E7%9A%84%E6%96%BD%E5%8A%A0%E5%92%8C%E9%A9%B1%E6%95%A3"><span class="toc-number">2.4.</span> <span class="toc-text">4.buffçš„æ–½åŠ å’Œé©±æ•£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-buff%E6%97%B6%E9%97%B4%E7%AD%96%E7%95%A5"><span class="toc-number">2.5.</span> <span class="toc-text">5.buffæ—¶é—´ç­–ç•¥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%81%E7%BB%AD%E6%97%B6%E9%97%B4-duration"><span class="toc-number">2.5.1.</span> <span class="toc-text">æŒç»­æ—¶é—´(duration)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#buff%E7%94%9F%E6%95%88%E5%91%A8%E6%9C%9F-period"><span class="toc-number">2.5.2.</span> <span class="toc-text">buffç”Ÿæ•ˆå‘¨æœŸ(period)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-number">3.</span> <span class="toc-text">é…ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E6%80%A7"><span class="toc-number">4.</span> <span class="toc-text">æ‰©å±•æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE"><span class="toc-number">4.1.</span> <span class="toc-text">1.æ•°æ®é©±åŠ¨åŒ–é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%84%9A%E6%9C%AC%E5%8C%96buff-IScriptRunner"><span class="toc-number">4.2.</span> <span class="toc-text">2.è„šæœ¬åŒ–buff(IScriptRunner)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%80%83"><span class="toc-number">5.</span> <span class="toc-text">æ€è€ƒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">6.</span> <span class="toc-text">å‚è€ƒ</span></a></li></ol></div></div></div><div class="tag-cloud"><div class="tag-cloud-tags"><a href="/tags/ability/" style="font-size: 12px; color: #999">ability</a> <a href="/tags/asset/" style="font-size: 19.2px; color: #5c8cb8">asset</a> <a href="/tags/behaviortree/" style="font-size: 12px; color: #999">behaviortree</a> <a href="/tags/buff/" style="font-size: 12px; color: #999">buff</a> <a href="/tags/c/" style="font-size: 22.8px; color: #3d85c8">c#</a> <a href="/tags/codegen/" style="font-size: 12px; color: #999">codegen</a> <a href="/tags/ecs/" style="font-size: 15.6px; color: #7a92a9">ecs</a> <a href="/tags/excel/" style="font-size: 12px; color: #999">excel</a> <a href="/tags/gamedev/" style="font-size: 26.4px; color: #1f7fd7">gamedev</a> <a href="/tags/gameplay/" style="font-size: 22.8px; color: #3d85c8">gameplay</a> <a href="/tags/gameplay-attribute/" style="font-size: 12px; color: #999">gameplay attribute</a> <a href="/tags/gameplaytag/" style="font-size: 12px; color: #999">gameplaytag</a> <a href="/tags/hexo/" style="font-size: 12px; color: #999">hexo</a> <a href="/tags/markdown/" style="font-size: 12px; color: #999">markdown</a> <a href="/tags/object-pool/" style="font-size: 12px; color: #999">object pool</a> <a href="/tags/souls-like/" style="font-size: 12px; color: #999">souls like</a> <a href="/tags/ugui/" style="font-size: 12px; color: #999">ugui</a> <a href="/tags/unity/" style="font-size: 30px; color: #0078e7">unity</a> <a href="/tags/vfs/" style="font-size: 12px; color: #999">vfs</a> <a href="/tags/visual-studio/" style="font-size: 12px; color: #999">visual studio</a></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="https://sarofc.gitee.io/2021/09/06/unity/%E6%B8%B8%E6%88%8F%E7%8E%A9%E6%B3%95/Ability1Buff/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="æ˜Ÿæ˜Ÿ"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="æ˜Ÿæ˜Ÿ's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">æŠ€èƒ½ç³»ç»Ÿ(ä¸€) Buff</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2021-09-06 12:22:43" itemprop="dateCreated datePublished" datetime="2021-09-06T12:22:43+08:00">2021-09-06</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="æœ¬æ–‡å­—æ•°">1.8k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="é˜…è¯»æ—¶é•¿">8m</span></span></span><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ¬¡æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span id="busuanzi_value_page_pv"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/unity/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">unity</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/gameplay/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">gameplay</span></a><a class="tag-item" href="/tags/ability/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">ability</span></a><a class="tag-item" href="/tags/buff/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">buff</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><p>buffå¤„ç†è‡ªèº«çš„ç”Ÿå‘½å‘¨æœŸã€å åŠ ï¼Œæ•°å€¼ï¼ŒçŠ¶æ€å¤–ï¼Œè¿˜å¯ä»¥å“åº”ä»»ä½•æ¨¡å—çš„äº‹ä»¶ã€‚</p>
<img src="buff.gif" loading="lazy">

<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>buffç³»ç»Ÿäº‹ä»¶æ¨¡å—ï¼Œä¸»è¦ç”±Eventã€Actionã€Targetä¸‰éƒ¨åˆ†ç»„æˆã€‚</p>
<h3 id="1-Event"><a href="#1-Event" class="headerlink" title="1.Event"></a>1.Event</h3><p>äº‹ä»¶ï¼Œbuffçš„çµé­‚ï¼Œå‚è€ƒäº†Dota2çš„æŠ€èƒ½ç³»ç»Ÿã€‚buffé‡Œæœ¬èº«æ²¡æœ‰å…¶ä»–æ¸¸æˆé€»è¾‘ï¼Œåªå®šä¹‰äº‹ä»¶ï¼Œç»‘å®šActionã€‚buffè‡ªèº«ä¹Ÿæœ‰ä¸€äº›OnCreatedã€OnDestroyedäº‹ä»¶ç­‰ï¼Œè¿™äº›buffç›¸å…³çš„äº‹ä»¶è‡ªå·±ç®¡ç†ï¼Œå…¶ä»–äº‹ä»¶ï¼Œä¾‹å¦‚OnDamageäº‹ä»¶ï¼Œåˆ™buffç›‘å¬æˆ˜æ–—æ¨¡å—çš„äº‹ä»¶ï¼Œæˆ˜æ–—æ¨¡å—æŠ›å‡ºäº‹ä»¶ï¼Œbuffä¾¿å¯å“åº”ï¼Œè°ƒç”¨ç»‘å®šå¥½çš„Actionã€‚æ‰€ä»¥ï¼Œbuffæ˜¯ä¸€ä¸ªä¸­ä»‹è€…çš„è§’è‰²ï¼ŒçœŸæ­£çš„æ¸¸æˆæ•ˆæœå®ç°ï¼Œè¿˜æ˜¯åœ¨å„ä¸ªæ¨¡å—é‡Œå®ç°çš„ã€‚</p>
<p>äº‹ä»¶å‚æ•°ï¼Œé€šè¿‡EventArgsåŒ…è£…ï¼Œå¯ä»¥æ–¹ä¾¿æ¥å…¥c# EventHandlerè®¾è®¡ã€‚</p>
<!-- TODO è¡¥ä¸Šbuffæ‰§è¡Œé€»è¾‘å›¾ -->

<details><summary>è‡ªå®šä¹‰ç»‘å®š å‚è€ƒ</summary>

<pre class="language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">partial</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Register</span><span class="token punctuation">(</span><span class="token class-name">ICombatUnit</span> unit<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Target <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    Target<span class="token punctuation">.</span>OnAfterDealDamage <span class="token operator">+=</span> Unit_OnAfterDealDamage<span class="token punctuation">;</span>
    Target<span class="token punctuation">.</span>OnBeforeReceiveDamage <span class="token operator">+=</span> Unit_BeforeReceiveDamage<span class="token punctuation">;</span>
    Target<span class="token punctuation">.</span>OnAfterReceiveDamage <span class="token operator">+=</span> Unit_OnAfterReceiveDamage<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">partial</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Unregister</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Target <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    Target<span class="token punctuation">.</span>OnAfterDealDamage <span class="token operator">-=</span> Unit_OnAfterDealDamage<span class="token punctuation">;</span>
    Target<span class="token punctuation">.</span>OnBeforeReceiveDamage <span class="token operator">-=</span> Unit_BeforeReceiveDamage<span class="token punctuation">;</span>
    Target<span class="token punctuation">.</span>OnAfterReceiveDamage <span class="token operator">-=</span> Unit_OnAfterReceiveDamage<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Unit_BeforeReceiveDamage</span><span class="token punctuation">(</span><span class="token class-name">DamageInfo</span> damageInfo<span class="token punctuation">,</span> <span class="token class-name">IHealthOwner</span> target<span class="token punctuation">,</span> <span class="token class-name">IDamageDealer</span> attacker<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token class-name"><span class="token keyword">var</span></span> args <span class="token operator">=</span> EventArgs_Damage<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>attacker<span class="token punctuation">,</span> target<span class="token punctuation">,</span> damageInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">HandleEvent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>EEvent_Buff<span class="token punctuation">.</span>OnBeforeReceiveDamage<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    EventArgs_Damage<span class="token punctuation">.</span><span class="token function">Release</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Unit_OnAfterReceiveDamage</span><span class="token punctuation">(</span><span class="token class-name">DamageInfo</span> damageInfo<span class="token punctuation">,</span> <span class="token class-name">IHealthOwner</span> target<span class="token punctuation">,</span> <span class="token class-name">IDamageDealer</span> attacker<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token class-name"><span class="token keyword">var</span></span> args <span class="token operator">=</span> EventArgs_Damage<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>attacker<span class="token punctuation">,</span> target<span class="token punctuation">,</span> damageInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">HandleEvent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>EEvent_Buff<span class="token punctuation">.</span>OnAfterReceiveDamage<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    EventArgs_Damage<span class="token punctuation">.</span><span class="token function">Release</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Unit_OnAfterDealDamage</span><span class="token punctuation">(</span><span class="token class-name">DamageInfo</span> damageInfo<span class="token punctuation">,</span> <span class="token class-name">IDamageDealer</span> attacker<span class="token punctuation">,</span> <span class="token class-name">IHealthOwner</span> target<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token class-name"><span class="token keyword">var</span></span> args <span class="token operator">=</span> EventArgs_Damage<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>attacker<span class="token punctuation">,</span> target<span class="token punctuation">,</span> damageInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">HandleEvent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>EEvent_Buff<span class="token punctuation">.</span>OnBeforeDealDamage<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    EventArgs_Damage<span class="token punctuation">.</span><span class="token function">Release</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
</details>

<h3 id="2-Action"><a href="#2-Action" class="headerlink" title="2.Action"></a>2.Action</h3><p>è¡ŒåŠ¨ï¼Œbuffæ‰§è¡Œé€»è¾‘çš„ä»£ç†ï¼Œéå¸¸ç±»ä¼¼è¡Œä¸ºæ ‘çš„ActionèŠ‚ç‚¹ã€‚ä¸€èˆ¬æ¥è®²ï¼Œé™¤éæ˜¯éå¸¸ç®€å•çš„é€»è¾‘ï¼Œå¦åˆ™éƒ½æ¨èè°ƒç”¨å„ä¸ªæ¨¡å—é‡Œçš„æ–¹æ³•æ¥å®ç°ã€‚</p>
<p>Actionè®¾è®¡ä¸ºç¬æ—¶è°ƒç”¨ï¼Œè°ƒç”¨å®Œï¼Œå¯¹è±¡å°†ä¼šè¢«é‡Šæ”¾æ‰ã€‚</p>
<p>æ‰€æœ‰çš„Actionéƒ½æ˜¯å¯ä»¥åºåˆ—åŒ–é…ç½®çš„ï¼Œå°†é…ç½®ActionConfigå’Œè¿è¡Œæ—¶å¯¹è±¡Actionåˆ†å¼€ï¼Œä½¿ç”¨å¤šæ€åºåˆ—åŒ–ï¼Œå¯ä»¥ç›´æ¥åœ¨Inspectoré¢æ¿ä¸Šç¼–è¾‘ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<p>Actionå¯ä»¥åµŒå¥—Actionï¼Œå¯ä»¥å®ç°Conditionï¼Œæˆ–è€…ä¸€äº›é“¾å¼éœ€æ±‚ï¼</p>
<details><summary>Action_Random å‚è€ƒ</summary>

<pre class="language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Saro<span class="token punctuation">.</span>Gameplay<span class="token punctuation">.</span>Ability</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">Action_Random</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">BaseAction</span></span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">public</span> <span class="token class-name">FloatValue</span> chance<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token class-name">BaseAction</span> onSuccess<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token class-name">BaseAction</span> onFailure<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">BaseActionSpec</span> <span class="token function">CreateSpec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> BaseActionSpec<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">CreateSpec</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ActionSpec_Random<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">ActionSpec_Random</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">BaseActionSpec</span></span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">public</span> <span class="token return-type class-name">Action_Random</span> Cfg <span class="token operator">=></span> BaseCfg <span class="token keyword">as</span> <span class="token class-name">Action_Random</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> chance<span class="token punctuation">;</span>

        <span class="token keyword">private</span> <span class="token class-name">IList<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span></span> m_ContextArgs<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token class-name">GameplayEventArgs</span> args<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> evtID<span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> cfg <span class="token operator">=</span> Cfg<span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> rnd <span class="token operator">=</span> UnityEngine<span class="token punctuation">.</span>Random<span class="token punctuation">.</span><span class="token keyword">value</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>rnd <span class="token operator">&lt;=</span> chance<span class="token punctuation">)</span>
            <span class="token punctuation">&#123;</span>
                AbilityEventHandler<span class="token punctuation">.</span><span class="token function">InvokeAction</span><span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>onSuccess<span class="token punctuation">,</span> evtID<span class="token punctuation">,</span> args<span class="token punctuation">,</span> m_ContextArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">&#123;</span>
                AbilityEventHandler<span class="token punctuation">.</span><span class="token function">InvokeAction</span><span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>onFailure<span class="token punctuation">,</span> evtID<span class="token punctuation">,</span> args<span class="token punctuation">,</span> m_ContextArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>

            m_ContextArgs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ResolveArgs</span><span class="token punctuation">(</span><span class="token class-name">IList<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span></span> args<span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
            m_ContextArgs <span class="token operator">=</span> args<span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword">var</span></span> cfg <span class="token operator">=</span> Cfg<span class="token punctuation">;</span>
            cfg<span class="token punctuation">.</span>chance<span class="token punctuation">.</span><span class="token function">Resolve</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span> <span class="token keyword">ref</span> chance<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
</details>

<h3 id="3-Target"><a href="#3-Target" class="headerlink" title="3.Target"></a>3.Target</h3><p>ç›®æ ‡é€‰æ‹©å™¨ï¼Œç”¨äºç­›é€‰ç›®æ ‡ã€‚Actionç­‰å¯¹è±¡ï¼Œéœ€è¦ç›®æ ‡ï¼Œå¯ä»¥é€šè¿‡æ­¤å¯¹è±¡è¿›è¡Œç­›é€‰ï¼Œå¯ä»¥è‡ªè¡Œæ‰©å±•ã€‚ä¾‹å¦‚Target_UseEventArgsï¼Œæ­¤ç­›é€‰å™¨å¯ä»¥é€šè¿‡EventArgsç­›é€‰ç›®æ ‡ã€‚</p>
<details>
<summary>Target_UseEventArgs å‚è€ƒ</summary>

<pre class="language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Saro<span class="token punctuation">.</span>Utility</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Saro<span class="token punctuation">.</span>Gameplay<span class="token punctuation">.</span>Ability</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Target_UseEventArgs</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">BaseTarget</span></span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">ITargetFilter</span> <span class="token function">CreateSpec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> spec <span class="token operator">=</span> SharedPool<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Rent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TargetSpec_UseEventArgs<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            spec<span class="token punctuation">.</span>Cfg <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> spec<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">/// &lt;summary></span>
    <span class="token comment">/// ä½¿ç”¨ GameplayEventArgs æ¥ç­›é€‰ç›®æ ‡</span>
    <span class="token comment">/// &lt;/summary></span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TargetSpec_UseEventArgs</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">BaseTargetSpec</span></span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">public</span> <span class="token return-type class-name">BaseTarget</span> Cfg <span class="token punctuation">&#123;</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>

        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">ETargetType</span> TargetType <span class="token operator">=></span> Cfg<span class="token punctuation">.</span>targetType<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">GetTargets</span><span class="token punctuation">(</span><span class="token class-name">GameplayEventArgs</span> args<span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>args <span class="token keyword">is</span> <span class="token class-name">EventArgs_Damage</span> _damageArgs<span class="token punctuation">)</span>
            <span class="token punctuation">&#123;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>TargetType<span class="token punctuation">.</span><span class="token function">HasFlag</span><span class="token punctuation">(</span>ETargetType<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#123;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>_damageArgs<span class="token punctuation">.</span>Target <span class="token keyword">is</span> <span class="token class-name">ICombatUnit</span> _combatUnit<span class="token punctuation">)</span>
                    <span class="token punctuation">&#123;</span>
                        Targets<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>_combatUnit<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>TargetType<span class="token punctuation">.</span><span class="token function">HasFlag</span><span class="token punctuation">(</span>ETargetType<span class="token punctuation">.</span>Caster<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#123;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>_damageArgs<span class="token punctuation">.</span>Attacker <span class="token keyword">is</span> <span class="token class-name">ICombatUnit</span> _combatUnit<span class="token punctuation">)</span>
                    <span class="token punctuation">&#123;</span>
                        <span class="token comment">// Target Caster å¯èƒ½æ˜¯ç›¸åŒ å¯¹è±¡ï¼Œéœ€è¦å¤„ç†ä¸‹</span>
                        Targets<span class="token punctuation">.</span><span class="token function">AddUnique</span><span class="token punctuation">(</span>_combatUnit<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>args <span class="token keyword">is</span> <span class="token class-name">EventArgs_BuffGeneric</span> _buffGenericArgs<span class="token punctuation">)</span>
            <span class="token punctuation">&#123;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>TargetType<span class="token punctuation">.</span><span class="token function">HasFlag</span><span class="token punctuation">(</span>ETargetType<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#123;</span>
                    Targets<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>_buffGenericArgs<span class="token punctuation">.</span>BuffSpec<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>TargetType<span class="token punctuation">.</span><span class="token function">HasFlag</span><span class="token punctuation">(</span>ETargetType<span class="token punctuation">.</span>Caster<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#123;</span>
                    <span class="token comment">// Target Caster å¯èƒ½æ˜¯ç›¸åŒ å¯¹è±¡ï¼Œéœ€è¦å¤„ç†ä¸‹</span>

                    <span class="token keyword">if</span> <span class="token punctuation">(</span>_buffGenericArgs<span class="token punctuation">.</span>BuffSpec<span class="token punctuation">.</span>Caster <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#123;</span>
                        Targets<span class="token punctuation">.</span><span class="token function">AddUnique</span><span class="token punctuation">(</span>_buffGenericArgs<span class="token punctuation">.</span>BuffSpec<span class="token punctuation">.</span>Caster<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>args <span class="token keyword">is</span> <span class="token class-name">EventArgs_BuffStack</span> _buffStackArgs<span class="token punctuation">)</span>
            <span class="token punctuation">&#123;</span>
                <span class="token class-name">BuffSpec</span> buff <span class="token operator">=</span> <span class="token punctuation">(</span>BuffSpec<span class="token punctuation">)</span>_buffStackArgs<span class="token punctuation">.</span>Handle<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>buff <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#123;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>TargetType<span class="token punctuation">.</span><span class="token function">HasFlag</span><span class="token punctuation">(</span>ETargetType<span class="token punctuation">.</span>Caster<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#123;</span>
                        <span class="token comment">// Target Caster å¯èƒ½æ˜¯ç›¸åŒ å¯¹è±¡ï¼Œéœ€è¦å¤„ç†ä¸‹</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>buff<span class="token punctuation">.</span>Caster <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                        <span class="token punctuation">&#123;</span>
                            Targets<span class="token punctuation">.</span><span class="token function">AddUnique</span><span class="token punctuation">(</span>buff<span class="token punctuation">.</span>Caster<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">&#125;</span>

                    <span class="token keyword">if</span> <span class="token punctuation">(</span>TargetType<span class="token punctuation">.</span><span class="token function">HasFlag</span><span class="token punctuation">(</span>ETargetType<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#123;</span>
                        Targets<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>buff<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>args <span class="token keyword">is</span> <span class="token class-name">EventArgs_AbilityGeneric</span> _abilityGenericArgs<span class="token punctuation">)</span>
            <span class="token punctuation">&#123;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>TargetType<span class="token punctuation">.</span><span class="token function">HasFlag</span><span class="token punctuation">(</span>ETargetType<span class="token punctuation">.</span>Caster<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#123;</span>
                    <span class="token comment">// Target Caster å¯èƒ½æ˜¯ç›¸åŒ å¯¹è±¡ï¼Œéœ€è¦å¤„ç†ä¸‹</span>
                    Targets<span class="token punctuation">.</span><span class="token function">AddUnique</span><span class="token punctuation">(</span>_abilityGenericArgs<span class="token punctuation">.</span>Ability<span class="token punctuation">.</span>Caster<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>TargetType<span class="token punctuation">.</span><span class="token function">HasFlag</span><span class="token punctuation">(</span>ETargetType<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#123;</span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Exception</span><span class="token punctuation">(</span><span class="token string">"Target is invalid for EventArgs_AbilityGeneric"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>args <span class="token keyword">is</span> <span class="token class-name">EventArgs_AbilityCanActivate</span> _abilityCanActivateArgs<span class="token punctuation">)</span>
            <span class="token punctuation">&#123;</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Exception</span><span class="token punctuation">(</span><span class="token string">"unhandled event: EventArgs_AbilityCanActivate"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
</details>

<h2 id="Buffè‡ªèº«é€»è¾‘"><a href="#Buffè‡ªèº«é€»è¾‘" class="headerlink" title="Buffè‡ªèº«é€»è¾‘"></a>Buffè‡ªèº«é€»è¾‘</h2><h3 id="1-å±æ€§æ”¹å˜"><a href="#1-å±æ€§æ”¹å˜" class="headerlink" title="1.å±æ€§æ”¹å˜"></a>1.å±æ€§æ”¹å˜</h3><p>ä½¿ç”¨<a href="/2022/01/30/unity/%E6%B8%B8%E6%88%8F%E7%8E%A9%E6%B3%95/%E6%B8%B8%E6%88%8F%E6%80%A7%E5%B1%9E%E6%80%A7">GameplayAttribute</a>ï¼Œæ¸¸æˆæ€§å±æ€§ã€‚buffæˆå‘˜å˜é‡ï¼ŒåŒ…å«ä¸€ä¸ªMofifierConfigæ•°ç»„ï¼Œå¯ä»¥é€šè¿‡è¡¨æ ¼æ¥é…ç½®ï¼Œbuffç”Ÿæ•ˆæ—¶ï¼Œä¼šåº”ç”¨å±æ€§ï¼Œé”€æ¯æ—¶ï¼Œä¼šç§»é™¤åº”ç”¨çš„å±æ€§ã€‚</p>
<h3 id="2-çŠ¶æ€æ”¹å˜"><a href="#2-çŠ¶æ€æ”¹å˜" class="headerlink" title="2.çŠ¶æ€æ”¹å˜"></a>2.çŠ¶æ€æ”¹å˜</h3><p>ä½¿ç”¨<a href="/2022/01/09/unity/%E6%B8%B8%E6%88%8F%E7%8E%A9%E6%B3%95/%E6%B8%B8%E6%88%8F%E6%80%A7%E6%A0%87%E7%AD%BE">GameplayTag</a>ï¼Œæ¸¸æˆæ€§æ ‡è®°ã€‚buffç”Ÿæ•ˆæ—¶ï¼Œéƒ½ä¼šç»™buffContainteræ·»åŠ ä¸€äº›é…ç½®çš„tagï¼Œé€šè¿‡è¿™ä¸ªtagï¼Œæ¥åˆ¤æ–­çŠ¶æ€ï¼Œæ‰€æœ‰buffè‡ªå·±ç®¡ç†è‡ªå·±çš„tagå°±å¤Ÿäº†ï¼ŒbuffContainerå¯ä»¥è‡ªå·±å¤„ç†tagå åŠ é—®é¢˜ï¼Œå¹¶ä¸”æä¾›äº†tagæ•°é‡å˜åŒ–çš„äº‹ä»¶ï¼Œå…¶ä»–æ¨¡å—å¯ä»¥å¾ˆæ–¹ä¾¿ç›‘å¬ï¼Œå®ç°tagçš„å“åº”ã€‚</p>
<h3 id="3-å †å å’Œæº¢å‡º"><a href="#3-å †å å’Œæº¢å‡º" class="headerlink" title="3.å †å å’Œæº¢å‡º"></a>3.å †å å’Œæº¢å‡º</h3><p>buffå †å ï¼Œä¼šæŠ›å‡ºå †å äº‹ä»¶ï¼Œé€šè¿‡è‡ªå®šä¹‰Actionè¿›è¡Œæ¸¸æˆé€»è¾‘å¤„ç†ã€‚</p>
<p>å †å æ—¶ï¼Œå±æ€§æ”¹å˜ä¹Ÿä¼šè¢«å †å ï¼Œå±‚æ•°å‡å°‘æ—¶ï¼Œå±æ€§æ”¹å˜ä¹Ÿä¼šç›¸åº”å‡å°‘ã€‚ï¼ˆTODOè€ƒè™‘æ–°å¢ä¸€ä¸ªå‚æ•°ï¼Œæ§åˆ¶å †å æ˜¯å¦å½±å“å±æ€§æ”¹å˜ï¼‰</p>
<p>å½“buffå †å è¶…è¿‡æœ€å¤§å †å æ•°é‡é™åˆ¶æ—¶ï¼Œä¼šæŠ›å‡ºæº¢å‡ºäº‹ä»¶ã€‚</p>
<h3 id="4-buffçš„æ–½åŠ å’Œé©±æ•£"><a href="#4-buffçš„æ–½åŠ å’Œé©±æ•£" class="headerlink" title="4.buffçš„æ–½åŠ å’Œé©±æ•£"></a>4.buffçš„æ–½åŠ å’Œé©±æ•£</h3><p>ä¹Ÿæ˜¯ä½¿ç”¨<a href="/2022/01/09/unity/%E6%B8%B8%E6%88%8F%E7%8E%A9%E6%B3%95/%E6%B8%B8%E6%88%8F%E6%80%A7%E6%A0%87%E7%AD%BE">GameplayTag</a>ï¼Œbuffè‡ªèº«åŒ…å«ä¸€ç³»åˆ—tagã€‚</p>
<ul>
<li>grantedTagsï¼Œç”Ÿæ•ˆæ—¶ï¼Œæˆäºˆçš„tags</li>
<li>applicationTagRequirementsï¼Œåº”ç”¨æ—¶ï¼Œéœ€è¦æ»¡è¶³çš„tags</li>
<li>onGoingTagRequirementsï¼Œç”Ÿæ•ˆæœŸé—´ï¼Œæ»¡è¶³æ¡ä»¶ï¼Œæ‰ä¼šèµ°buff periodäº‹ä»¶ï¼Œä½†ä¸ä¼šå½±å“åº”ç”¨å±æ€§ã€grantedTagsç­‰ç¬æ—¶æ“ä½œã€‚</li>
</ul>
<!-- - removalTagRequirements
- removeGameplayEffectsWithTags -->

<p>é™¤äº†å¯ä»¥é€šè¿‡tagé©±æ•£ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡buffIDã€buffHandleé©±æ•£ï¼Œä½†ä¸€èˆ¬æ¨ètagï¼Œtagå¯ä»¥ä»£è¡¨ä¸€ä¸ªç³»åˆ—buffçš„é›†åˆã€‚</p>
<p>é€šè¿‡DestroyBuff(Buff buff, object destroyer)ï¼Œä¼ å…¥destroyerï¼Œå¯ä»¥åˆ¤å®šæ˜¯è‡ªç„¶ç»“æŸï¼Œè¿˜æ˜¯è¢«å…¶ä»–äººé”€æ¯</p>
<h3 id="5-buffæ—¶é—´ç­–ç•¥"><a href="#5-buffæ—¶é—´ç­–ç•¥" class="headerlink" title="5.buffæ—¶é—´ç­–ç•¥"></a>5.buffæ—¶é—´ç­–ç•¥</h3><h4 id="æŒç»­æ—¶é—´-duration"><a href="#æŒç»­æ—¶é—´-duration" class="headerlink" title="æŒç»­æ—¶é—´(duration)"></a>æŒç»­æ—¶é—´(duration)</h4><ul>
<li>åº”ç”¨buffæ—¶ï¼Œæ˜¯å¦åˆ·æ–°å·²å­˜åœ¨buffçš„duration</li>
<li>æ¯å±‚ç»“æŸåï¼Œæ˜¯å¦åˆ·æ–°durationã€‚ä¸åˆ·æ–°ï¼Œåˆ™æ¸…ç©ºæ‰€æœ‰å±‚æ•°ï¼Œå¹¶ç§»é™¤buffï¼›åˆ·æ–°ï¼Œåˆ™å‡å°‘ä¸€å±‚ï¼Œé‡æ–°è®¡æ—¶</li>
<li>æ¯å±‚ç»“æŸæˆ–ï¼Œåˆ·æ–°durationï¼Œä¸”æŠ›å‡ºäº‹ä»¶ï¼Œå¯ä»¥è‡ªå®šä¹‰å±‚æ•°äº‹ä»¶ï¼Œä¾‹å¦‚ï¼Œè®©durationæ ¹æ®å±‚æ•°å˜åŒ–ç­‰ã€‚</li>
</ul>
<h4 id="buffç”Ÿæ•ˆå‘¨æœŸ-period"><a href="#buffç”Ÿæ•ˆå‘¨æœŸ-period" class="headerlink" title="buffç”Ÿæ•ˆå‘¨æœŸ(period)"></a>buffç”Ÿæ•ˆå‘¨æœŸ(period)</h4><ul>
<li>åº”ç”¨buffæ—¶ï¼Œæ˜¯å¦åˆ·æ–°period</li>
</ul>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>é€»è¾‘æ•°æ®ï¼Œåœ¨Inspectorç›´æ¥é…ç½®å¤šæ€æ•°æ®ï¼Œä½¿ç”¨Odinæ’ä»¶ï¼Œåºåˆ—åŒ–ä¸ºjsonï¼Œä¹Ÿå¯ä»¥è€ƒè™‘åºåˆ—åŒ–æˆprotobufã€‚</p>
<p>ç­‰çº§ä¹‹ç±»çš„æ•°å€¼æ•°æ®ï¼Œé‡‡ç”¨é…ç½®è¡¨é…ç½®ã€‚æ–°å¢ValueSourceç±»ï¼Œå¤„ç†æ˜¯å¦ä½¿ç”¨è¡¨æ ¼æ•°æ®ã€‚</p>
<details><summary>é…ç½® å‚è€ƒ</summary>

<img src="pic0.jpg" loading="lazy">

<img src="pic1.jpg" loading="lazy">
</details>

<h2 id="æ‰©å±•æ€§"><a href="#æ‰©å±•æ€§" class="headerlink" title="æ‰©å±•æ€§"></a>æ‰©å±•æ€§</h2><h3 id="1-æ•°æ®é©±åŠ¨åŒ–é…ç½®"><a href="#1-æ•°æ®é©±åŠ¨åŒ–é…ç½®" class="headerlink" title="1.æ•°æ®é©±åŠ¨åŒ–é…ç½®"></a>1.æ•°æ®é©±åŠ¨åŒ–é…ç½®</h3><ul>
<li>é€šè¿‡c#è‡ªå®šä¹‰å¯å¤ç”¨Actionï¼Œæ•°æ®é©±åŠ¨ç»„åˆï¼Œå·²ç»å¯ä»¥åœ¨ç¼–è¾‘å™¨é¢æ¿ï¼Œåˆ¶ä½œå¾ˆå¤šbuffäº†</li>
</ul>
<h3 id="2-è„šæœ¬åŒ–buff-IScriptRunner"><a href="#2-è„šæœ¬åŒ–buff-IScriptRunner" class="headerlink" title="2.è„šæœ¬åŒ–buff(IScriptRunner)"></a>2.è„šæœ¬åŒ–buff(IScriptRunner)</h3><p>é’ˆå¯¹ç‰¹åŒ–buffï¼Œæä¾›ä¸€ä¸‹æ”¯æŒ</p>
<ul>
<li>æ”¯æŒc#å­—ç¬¦ä¸²å’Œå§”æ‰˜ç»‘å®šï¼Œç»§æ‰¿ICSharpScript</li>
<li>luaæ”¯æŒ</li>
</ul>
<details><summary>luaæ”¯æŒ å‚è€ƒ</summary>

<pre class="language-lua" data-language="lua"><code class="language-lua"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"AbilityInterface"</span><span class="token punctuation">)</span>

<span class="token keyword">local</span> buff1001 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token comment">-- é‡å†™å“ªäº›äº‹ä»¶</span>
<span class="token keyword">function</span> buff1001<span class="token punctuation">:</span><span class="token function">DeclareFunctions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">local</span> funcs <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">-- OnBuffCreated</span>
        <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">-- OnBuffPeriod</span>
        <span class="token number">27</span> <span class="token comment">-- OnAfterReceiveDamage</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> funcs
<span class="token keyword">end</span>

<span class="token keyword">function</span> buff1001<span class="token punctuation">:</span><span class="token function">OnBuffCreated</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
    <span class="token comment">-- è¯»å–buffæ•°æ®è¡¨çš„ç”¨æˆ·æ•°æ®</span>
    <span class="token keyword">local</span> buffDataArgs <span class="token operator">=</span> args<span class="token punctuation">.</span>buff<span class="token punctuation">.</span>Data<span class="token punctuation">.</span>Args
    <span class="token keyword">local</span> arg0 <span class="token operator">=</span> <span class="token function">tonumber</span><span class="token punctuation">(</span>buffDataArgs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">local</span> arg1 <span class="token operator">=</span> <span class="token function">tonumber</span><span class="token punctuation">(</span>buffDataArgs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">local</span> arg2 <span class="token operator">=</span> <span class="token function">tonumber</span><span class="token punctuation">(</span>buffDataArgs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">local</span> attributeSet <span class="token operator">=</span> args<span class="token punctuation">.</span>buff<span class="token punctuation">.</span>Target<span class="token punctuation">.</span>AttributeSet
    attributeSet<span class="token punctuation">:</span><span class="token function">ApplyModifier</span><span class="token punctuation">(</span>arg0<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> args<span class="token punctuation">.</span>buff<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> buff1001<span class="token punctuation">:</span><span class="token function">OnBuffPeriod</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"buff1001 OnBuffPeriod. args: ["</span> <span class="token operator">..</span> args<span class="token punctuation">:</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">..</span> <span class="token string">"]"</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> buff1001<span class="token punctuation">:</span><span class="token function">OnAfterReceiveDamage</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
    <span class="token keyword">if</span> args<span class="token punctuation">.</span>damageInfo<span class="token punctuation">.</span>damageTag<span class="token punctuation">:</span><span class="token function">HasFlag</span><span class="token punctuation">(</span>EDamageTag<span class="token punctuation">.</span>NoReflect<span class="token punctuation">)</span> <span class="token keyword">then</span>
        <span class="token keyword">return</span>
    <span class="token keyword">end</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>attacker <span class="token operator">==</span> <span class="token keyword">nil</span><span class="token punctuation">)</span> <span class="token keyword">then</span>
        <span class="token keyword">return</span>
    <span class="token keyword">end</span>

    <span class="token comment">-- é€ æˆ2.2å€åå‡»ä¼¤å®³</span>
    <span class="token keyword">local</span> finalDamage <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>damageInfo<span class="token punctuation">.</span>amount <span class="token operator">*</span> <span class="token number">2.2</span><span class="token punctuation">)</span>

    <span class="token keyword">local</span> damageInfo <span class="token operator">=</span> DamageInfo<span class="token punctuation">:</span><span class="token function">Create</span><span class="token punctuation">(</span>EDamageType<span class="token punctuation">.</span>Magical<span class="token punctuation">,</span> finalDamage<span class="token punctuation">,</span> EDamageTag<span class="token punctuation">.</span>NoReflect<span class="token punctuation">)</span>

    DamageHelper<span class="token punctuation">:</span><span class="token function">ApplyDamage</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>target<span class="token punctuation">,</span> args<span class="token punctuation">.</span>attacker<span class="token punctuation">,</span> damageInfo<span class="token punctuation">)</span>

    DamageInfo<span class="token punctuation">:</span><span class="token function">Release</span><span class="token punctuation">(</span>damageInfo<span class="token punctuation">)</span>

    <span class="token comment">-- çœ©æ™•æ”»å‡»è€…</span>
    args<span class="token punctuation">.</span>attacker<span class="token punctuation">.</span>BuffContainer<span class="token punctuation">:</span><span class="token function">ApplyBuff</span><span class="token punctuation">(</span><span class="token number">1002</span><span class="token punctuation">,</span> args<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">return</span> buff1001</code></pre>
</details>

<h2 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h2><ul>
<li>å¦‚ä½•è®¾è®¡æ¸¸æˆäº‹ä»¶ï¼Œæé«˜buffç³»ç»Ÿçš„å¥å£®æ€§ã€æ‰©å±•æ€§</li>
<li>å¦‚ä½•åµŒå…¥ecsç³»ç»Ÿï¼Ÿæˆ–è€…æ”¹æˆecsçš„å®ç°ï¼Ÿ</li>
</ul>
<!--
### å®ç°æ ·æ¿

- dotæ•ˆæœã€‚ç‡ƒçƒ§ï¼Œæ¯ç§’æ‰xxè¡€ã€‚
- å—åˆ°æ”»å‡»åï¼Œè§¦å‘äº‹ä»¶ã€‚åå‡»èºæ—‹ã€äººé©¬çš®ã€‚
- å®™æ–¯cã€‚å¼¹é“å¼¹å°„ï¼Œä¼¤å®³é€’å‡ã€‚
- è¾‰è€€ã€‚ä¸€å®šèŒƒå›´ï¼Œæ¯xç§’aoeä¼¤å®³ã€æ”»å‡»missã€‚
- æ­»éª‘è¢«åŠ¨ï¼Œä¸€å®šæ—¶é—´æ”»å‡»ä¸‰æ¬¡ç›®æ ‡ï¼Œç›®æ ‡ä¼šå—åˆ°é¢å¤–ä¼¤å®³ï¼Œæ²‰é»˜å’Œå‡é€Ÿã€‚

-->

<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a target="_blank" rel="noopener" href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools:zh-cn/Scripting:zh-cn/Abilities_Data_Driven:zh-cn">Dota2æ•°æ®é©±åŠ¨æŠ€èƒ½</a></li>
<li><a target="_blank" rel="noopener" href="https://bbs.gameres.com/forum.php?mod=viewthread&tid=215027">Buffæœºåˆ¶åŠå…¶å®é™…è¿ç”¨</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/tranek/GASDocumentation">UE4 GAS</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/150812545">å¦‚ä½•å®ç°ä¸€ä¸ªå¼ºå¤§çš„MMOæŠ€èƒ½ç³»ç»Ÿâ€”â€”BUFF</a></li>
</ul>
</div></section><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>æ˜Ÿæ˜Ÿ</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://sarofc.gitee.io/2021/09/06/unity/%E6%B8%B8%E6%88%8F%E7%8E%A9%E6%B3%95/Ability1Buff/" title="æŠ€èƒ½ç³»ç»Ÿ(ä¸€) Buff">https://sarofc.gitee.io/2021/09/06/unity/%E6%B8%B8%E6%88%8F%E7%8E%A9%E6%B3%95/Ability1Buff/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/10/29/unity/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/ugui%E7%BB%84%E4%BB%B6%E7%BB%91%E5%AE%9A%E5%92%8C%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/" rel="prev" title="uguiç»„ä»¶ç»‘å®šå’Œä»£ç ç”Ÿæˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">uguiç»„ä»¶ç»‘å®šå’Œä»£ç ç”Ÿæˆ</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/03/09/unity/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/MGF1%E6%A1%86%E6%9E%B6%E5%90%AF%E5%8A%A8/" rel="next" title="Moon Game Framework(ä¸€)"><span class="post-nav-text">Moon Game Framework(ä¸€)</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è¦ä¸è¦å’Œæˆ‘è¯´äº›ä»€ä¹ˆï¼Ÿ</span><br></div><div id="valine-container"></div><script type="module">import { getScript } from '/js/utils.js'
getScript("https://fastly.jsdelivr.net/npm/valine@latest/dist/Valine.min.js", () => {
  const valineConfig = {"enable":true,"appId":"4f4thF3LKGni6l4CAB08D3dE-gzGzoHsz","appKey":"p9RGSDvRFxjHsDJhvX5MgViA","placeholder":"è¯´ç‚¹ä»€ä¹ˆ","avatar":"mp","pageSize":10,"visitor":false,"highlight":true,"recordIP":true,"enableQQ":true,"meta":["nick","mail","link"],"lang":"zh-cn","serverURLs":"https://4f4thf3l.lc-cn-n1-shared.com","requiredFields":["nick"],"el":"#valine-container"}
  valineConfig.path = "/2021/09/06/unity/%E6%B8%B8%E6%88%8F%E7%8E%A9%E6%B3%95/Ability1Buff/"
  new Valine(valineConfig)
}, window.Valine);</script></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 â€“ 2022 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> æ˜Ÿæ˜Ÿ</span></div><div class="powered"><span>ç”± <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> é©±åŠ¨ v6.2.0</span><span class="footer-separator">|</span><span>ä¸»é¢˜ - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.9.3</span></div><div id="busuanzi"><span id="busuanzi_container_site_uv" title="æ€»è®¿å®¢é‡"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-user-line"></use></svg></span><span id="busuanzi_value_site_uv"></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv" title="æ€»è®¿é—®é‡"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg></span><span id="busuanzi_value_site_pv"></span></span><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><div class="aplayer no-destroy" id="aplayer" data-id="98381187" data-server="netease" data-type="playlist" data-fixed="true" data-theme="#0078E7" data-loop="all" data-order="list" data-preload="auto" data-volume="0.1" data-mutex data-lrctype="0" data-listmaxheight="340px" data-storagename="metingjs"></div></div></body></html>